//Enable DSL2
nextflow {
     enable.dsl = 2
}

process.shell = ['/bin/bash', '-euo', 'pipefail']

//Singularity profile
profiles {
    singularity {
        singularity.enabled = true
        singularity.autoMounts = true
        pullTimeout = '1h'
     
        process {
	  executor = 'slurm'

          withLabel: 'fastqc' {
                container = 'quay.io/biocontainers/fastqc:0.11.9--0'
          }
          withLabel: 'nanoplot' {
                container = 'quay.io/biocontainers/nanoplot:1.41.3--pyhdfd78af_0'
          }
          withLabel: 'nanofilt' {
                container = 'docker.io/prccar005/nanofilt:v1'
          }
	  withLabel: 'filtlong' {
		// Option 1: Use prebuilt Singularity SIF
		container = '/users/user03/data/containers/filtlongv0.3.1.sif'
	  }
	  withLabel: 'multiqc' {
		container = 'quay.io/biocontainers/multiqc:1.22--pyhdfd78af_0'
	    }
        }
    }
}
