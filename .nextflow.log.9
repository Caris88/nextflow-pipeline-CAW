Nov-28 14:43:20.964 [main] DEBUG nextflow.cli.Launcher - $> nextflow run main.nf -profile singularity -resume
Nov-28 14:43:21.504 [main] DEBUG nextflow.cli.CmdRun - N E X T F L O W  ~  version 25.10.0
Nov-28 14:43:21.656 [main] DEBUG nextflow.config.ConfigBuilder - Found config local: /users/user03/data/scripts/modules/nextflow.config
Nov-28 14:43:21.669 [main] DEBUG nextflow.config.ConfigBuilder - Parsing config file: /users/user03/data/scripts/modules/nextflow.config
Nov-28 14:43:21.789 [main] DEBUG nextflow.config.ConfigBuilder - Applying config profile: `singularity`
Nov-28 14:43:23.479 [main] DEBUG nextflow.config.ConfigBuilder - Available config profiles: [process, singularity]
Nov-28 14:43:23.796 [main] DEBUG nextflow.plugin.PluginsFacade - Setting up plugin manager > mode=prod; embedded=false; plugins-dir=/users/user03/.nextflow/plugins; core-plugins: nf-amazon@3.4.1,nf-azure@1.20.2,nf-cloudcache@0.5.0,nf-codecommit@0.5.0,nf-console@1.3.0,nf-google@1.23.3,nf-k8s@1.2.2,nf-tower@1.17.1,nf-wave@1.16.1
Nov-28 14:43:23.834 [main] INFO  o.pf4j.DefaultPluginStatusProvider - Enabled plugins: []
Nov-28 14:43:23.840 [main] INFO  o.pf4j.DefaultPluginStatusProvider - Disabled plugins: []
Nov-28 14:43:23.848 [main] INFO  org.pf4j.DefaultPluginManager - PF4J version 3.12.0 in 'deployment' mode
Nov-28 14:43:23.888 [main] DEBUG nextflow.util.RetryConfig - Missing nextflow session - using default retry config
Nov-28 14:43:24.280 [main] INFO  org.pf4j.AbstractPluginManager - No plugins
Nov-28 14:43:24.283 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins default=[]
Nov-28 14:43:24.286 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins resolved requirement=[]
Nov-28 14:43:24.331 [main] DEBUG n.secret.LocalSecretsProvider - Secrets store: /users/user03/.nextflow/secrets/store.json
Nov-28 14:43:24.340 [main] DEBUG nextflow.secret.SecretsLoader - Discovered secrets providers: [nextflow.secret.LocalSecretsProvider@5a034157] - activable => nextflow.secret.LocalSecretsProvider@5a034157
Nov-28 14:43:24.410 [main] DEBUG nextflow.cli.CmdRun - Applied DSL=2 from script declaration
Nov-28 14:43:24.456 [main] DEBUG nextflow.cli.CmdRun - Launching `main.nf` [reverent_gates] DSL2 - revision: 7a91be213e
Nov-28 14:43:24.608 [main] DEBUG nextflow.Session - Session UUID: 4288f412-7a20-4383-8d1d-e5380253acfc
Nov-28 14:43:24.608 [main] DEBUG nextflow.Session - Run name: reverent_gates
Nov-28 14:43:24.609 [main] DEBUG nextflow.Session - Executor pool size: 2
Nov-28 14:43:24.636 [main] DEBUG nextflow.file.FilePorter - File porter settings maxRetries=3; maxTransfers=50; pollTimeout=null
Nov-28 14:43:24.658 [main] DEBUG nextflow.util.ThreadPoolBuilder - Creating thread pool 'FileTransfer' minSize=10; maxSize=10; workQueue=LinkedBlockingQueue[-1]; allowCoreThreadTimeout=false
Nov-28 14:43:24.718 [main] DEBUG nextflow.cli.CmdRun - 
  Version: 25.10.0 build 10289
  Created: 22-10-2025 16:26 UTC (18:26 SAST)
  System: Linux 6.8.0-88-generic
  Runtime: Groovy 4.0.28 on OpenJDK 64-Bit Server VM 22.0.1+8-16
  Encoding: UTF-8 (UTF-8)
  Process: 124800@compute-4-caw [192.168.20.153]
  CPUs: 1 - Mem: 236.1 GB (222.5 GB) - Swap: 0 (0)
Nov-28 14:43:24.866 [main] DEBUG nextflow.Session - Work-dir: /users/user03/data/scripts/modules/work [ceph]
Nov-28 14:43:24.867 [main] DEBUG nextflow.Session - Script base path does not exist or is not a directory: /users/user03/data/scripts/modules/bin
Nov-28 14:43:24.894 [main] DEBUG nextflow.executor.ExecutorFactory - Extension executors providers=[]
Nov-28 14:43:24.922 [main] DEBUG nextflow.Session - Observer factory (v2): LinObserverFactory
Nov-28 14:43:24.932 [main] DEBUG nextflow.Session - Observer factory (v2): DefaultObserverFactory
Nov-28 14:43:25.061 [main] DEBUG nextflow.cache.CacheFactory - Using Nextflow cache factory: nextflow.cache.DefaultCacheFactory
Nov-28 14:43:25.091 [main] DEBUG nextflow.util.CustomThreadPool - Creating default thread pool > poolSize: 2; maxThreads: 1000
Nov-28 14:43:25.395 [main] DEBUG nextflow.Session - Session start
Nov-28 14:43:26.043 [main] DEBUG nextflow.script.ScriptRunner - > Launching execution
Nov-28 14:43:27.281 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Nov-28 14:43:27.286 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Nov-28 14:43:27.317 [main] DEBUG nextflow.executor.Executor - [warm up] executor > local
Nov-28 14:43:27.342 [main] DEBUG n.processor.LocalPollingMonitor - Creating local task monitor for executor 'local' > cpus=1; memory=236.1 GB; capacity=1; pollInterval=100ms; dumpInterval=5m
Nov-28 14:43:27.351 [main] DEBUG n.processor.TaskPollingMonitor - >>> barrier register (monitor: local)
Nov-28 14:43:27.441 [main] DEBUG nextflow.processor.TaskProcessor - Creating process 'NANOPLOT_RAW': maxForks=0; fair=false; array=0
Nov-28 14:43:27.594 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Nov-28 14:43:27.594 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Nov-28 14:43:27.599 [main] DEBUG nextflow.processor.TaskProcessor - Creating process 'NANOFILT': maxForks=0; fair=false; array=0
Nov-28 14:43:27.614 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Nov-28 14:43:27.615 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Nov-28 14:43:27.616 [main] DEBUG nextflow.processor.TaskProcessor - Creating process 'NANOPLOT_FILTERED': maxForks=0; fair=false; array=0
Nov-28 14:43:27.625 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Nov-28 14:43:27.625 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Nov-28 14:43:27.637 [main] DEBUG nextflow.processor.TaskProcessor - Creating process 'FILTLONG': maxForks=0; fair=false; array=0
Nov-28 14:43:27.640 [main] DEBUG nextflow.Session - Workflow process names [dsl2]: NANOPLOT_FILTERED, NANOPLOT_HIGH, MULTIQC, NANOFILT, FILTLONG, NANOPLOT, NANOPLOT_RAW
Nov-28 14:43:27.650 [main] DEBUG nextflow.Session - Igniting dataflow network (5)
Nov-28 14:43:27.678 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > NANOPLOT_RAW
Nov-28 14:43:27.679 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > NANOFILT
Nov-28 14:43:27.679 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > NANOPLOT_FILTERED
Nov-28 14:43:27.696 [PathVisitor-1] DEBUG nextflow.file.PathVisitor - files for syntax: glob; folder: ./; pattern: *_251.fastq.gz; options: [:]
Nov-28 14:43:27.698 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > FILTLONG
Nov-28 14:43:27.703 [main] DEBUG nextflow.script.ScriptRunner - Parsed script files:
  Script_be6c258788718e97: /users/user03/data/scripts/modules/nanofilt.nf
  Script_d9f19cc77d35a9b9: /users/user03/data/scripts/modules/filtlong.nf
  Script_042100217f83ec10: /users/user03/data/scripts/modules/nanoplot.nf
  Script_a14f2404b9bda158: /users/user03/data/scripts/modules/main.nf
  Script_b8547b5c3d30a44f: /users/user03/data/scripts/modules/multiqc.nf
Nov-28 14:43:27.703 [main] DEBUG nextflow.script.ScriptRunner - > Awaiting termination 
Nov-28 14:43:27.703 [main] DEBUG nextflow.Session - Session await
Nov-28 14:43:28.217 [Actor Thread 5] DEBUG nextflow.container.SingularityCache - Singularity found local store for image=docker://docker.io/prccar005/nanofilt:v1; path=/users/user03/data/scripts/modules/work/singularity/docker.io-prccar005-nanofilt-v1.img
Nov-28 14:43:28.216 [Actor Thread 2] DEBUG nextflow.container.SingularityCache - Singularity found local store for image=docker://quay.io/biocontainers/nanoplot:1.41.3--pyhdfd78af_0; path=/users/user03/data/scripts/modules/work/singularity/quay.io-biocontainers-nanoplot-1.41.3--pyhdfd78af_0.img
Nov-28 14:43:28.523 [Actor Thread 3] INFO  nextflow.processor.TaskProcessor - [40/868938] Cached process > NANOFILT (FAZ22052_pass_a4c5235d_9302830b_251.fastq)
Nov-28 14:43:28.527 [Actor Thread 6] INFO  nextflow.processor.TaskProcessor - [69/48754d] Cached process > NANOPLOT_RAW (1)
Nov-28 14:43:28.658 [Actor Thread 9] INFO  nextflow.processor.TaskProcessor - [da/e5ec6d] Cached process > NANOPLOT_FILTERED (1)
Nov-28 14:43:28.662 [Actor Thread 6] DEBUG nextflow.util.ThreadPoolBuilder - Creating thread pool 'PublishDir' minSize=10; maxSize=10; workQueue=LinkedBlockingQueue[-1]; allowCoreThreadTimeout=false
Nov-28 14:43:28.899 [Task submitter] DEBUG n.executor.local.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Nov-28 14:43:28.905 [Task submitter] INFO  nextflow.Session - [22/28a648] Submitted process > FILTLONG (1)
Nov-28 14:43:29.114 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 3; name: FILTLONG (1); status: COMPLETED; exit: 127; error: -; workDir: /users/user03/data/scripts/modules/work/22/28a64828d025776d451f9f839a9b9c]
Nov-28 14:43:29.115 [Task monitor] DEBUG nextflow.util.ThreadPoolBuilder - Creating thread pool 'TaskFinalizer' minSize=10; maxSize=10; workQueue=LinkedBlockingQueue[-1]; allowCoreThreadTimeout=false
Nov-28 14:43:29.145 [TaskFinalizer-1] DEBUG nextflow.processor.TaskProcessor - Handling unexpected condition for
  task: name=FILTLONG (1); work-dir=/users/user03/data/scripts/modules/work/22/28a64828d025776d451f9f839a9b9c
  error [nextflow.exception.ProcessFailedException]: Process `FILTLONG (1)` terminated with an error exit status (127)
Nov-28 14:43:29.201 [TaskFinalizer-1] ERROR nextflow.processor.TaskProcessor - Error executing process > 'FILTLONG (1)'

Caused by:
  Process `FILTLONG (1)` terminated with an error exit status (127)


Command executed:

  filtlong       --min_length 500 500       --min_mean_q 7 7       --target_bases 1000000000 1000000000       FAZ22052_pass_a4c5235d_9302830b_251.fastq.nanofilt.fastq.gz | gzip > FAZ22052_pass_a4c5235d_9302830b_251.fastq.nanofilt.fastq.gz.filtlong.fastq.gz

Command exit status:
  127

Command output:
  (empty)

Command error:
  .command.sh: line 2: filtlong: command not found

Work dir:
  /users/user03/data/scripts/modules/work/22/28a64828d025776d451f9f839a9b9c

Tip: you can replicate the issue by changing to the process work dir and entering the command `bash .command.run`
Nov-28 14:43:29.214 [main] DEBUG nextflow.Session - Session await > all processes finished
Nov-28 14:43:29.238 [TaskFinalizer-1] DEBUG nextflow.Session - Session aborted -- Cause: Process `FILTLONG (1)` terminated with an error exit status (127)
Nov-28 14:43:29.250 [Task monitor] DEBUG n.processor.TaskPollingMonitor - <<< barrier arrives (monitor: local) - terminating tasks monitor poll loop
Nov-28 14:43:29.251 [main] DEBUG nextflow.Session - Session await > all barriers passed
Nov-28 14:43:29.289 [main] DEBUG n.trace.WorkflowStatsObserver - Workflow completed > WorkflowStats[succeededCount=0; failedCount=1; ignoredCount=0; cachedCount=3; pendingCount=0; submittedCount=0; runningCount=0; retriesCount=0; abortedCount=0; succeedDuration=0ms; failedDuration=106ms; cachedDuration=1m 15s;loadCpus=0; loadMemory=0; peakRunning=1; peakCpus=1; peakMemory=0; ]
Nov-28 14:43:29.296 [TaskFinalizer-1] DEBUG n.trace.WorkflowStatsObserver - Workflow completed > WorkflowStats[succeededCount=0; failedCount=1; ignoredCount=0; cachedCount=3; pendingCount=0; submittedCount=0; runningCount=0; retriesCount=0; abortedCount=0; succeedDuration=0ms; failedDuration=106ms; cachedDuration=1m 15s;loadCpus=0; loadMemory=0; peakRunning=1; peakCpus=1; peakMemory=0; ]
Nov-28 14:43:29.297 [TaskFinalizer-1] DEBUG nextflow.Session - null
java.lang.InterruptedException: null
	at java.base/java.lang.Object.wait0(Native Method)
	at java.base/java.lang.Object.wait(Object.java:375)
	at java.base/java.lang.Thread.join(Thread.java:2045)
	at java.base/java.lang.Thread.join(Thread.java:2121)
	at nextflow.trace.AnsiLogObserver.onFlowComplete(AnsiLogObserver.groovy:520)
	at nextflow.Session$_notifyFlowComplete_lambda39.doCall(Session.groovy:1121)
	at nextflow.Session.notifyEvent(Session.groovy:1151)
	at nextflow.Session.notifyFlowComplete(Session.groovy:1121)
	at nextflow.Session.shutdown0(Session.groovy:779)
	at nextflow.Session.abort(Session.groovy:834)
	at nextflow.Session.fault(Session.groovy:796)
	at nextflow.processor.TaskPollingMonitor.finalizeTask(TaskPollingMonitor.groovy:753)
	at nextflow.processor.TaskPollingMonitor.safeFinalizeTask(TaskPollingMonitor.groovy:736)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:343)
	at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:328)
	at groovy.lang.MetaClassImpl.doInvokeMethod(MetaClassImpl.java:1339)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1094)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1007)
	at org.codehaus.groovy.runtime.InvokerHelper.invokePogoMethod(InvokerHelper.java:645)
	at org.codehaus.groovy.runtime.InvokerHelper.invokeMethod(InvokerHelper.java:628)
	at org.codehaus.groovy.runtime.InvokerHelper.invokeMethodSafe(InvokerHelper.java:82)
	at nextflow.processor.TaskPollingMonitor$_checkTaskStatus_lambda8.doCall(TaskPollingMonitor.groovy:726)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1570)
Nov-28 14:43:29.463 [main] DEBUG nextflow.cache.CacheDB - Closing CacheDB done
Nov-28 14:43:29.561 [main] DEBUG nextflow.script.ScriptRunner - > Execution complete -- Goodbye
